







# 트러블 슈팅 (Client 쪽)



## Service 등록이 왜케 느릴까?

인스턴스를 등록할 때, 하트비트 시간이 있기 때문에, 기본적으로 30초가 걸리게 됩니다. 인스턴스, 서버 및 클라이언트가 모두 로컬 캐시에 동일한 메타 데이터를 가져야 하기 때문입니다.(3번의 하트비트가 걸리는 시간) `eureka.instance.leaseRenewalIntervalInSeconds` 의 값을 변경함으로 써 걸리는 시간을 변경할 수 있습니다. 30초 미만으로 설정하면, 클라이언트가 다른 서비스와 연결하는 시간이 짧아지지만, 그렇지만 이렇게 설정하면 실제 배포할 때는 하트비트를 짧은 시간에 여러번 하기 때문에 디폴트인 30으로 하는 것이 좋습니다. 

- 인스턴스 : 이미 올라가 있는 서비스
- 클라이언트 : 올릴 서비스
- 서버 : 디스커버리 서버



## Zone 이라는 개념도 있네?

Zone이란게 뭘까? 



## 클라이언트 새로고침하기

기본적으로 클라이언트는 새로고침이 가능합니다. 새로고침이 일어나게 되면, 클라이언트는 유레카 서버에서 잠깐 동안 사용불가능 상태가 됩니다. 새로고침을 방지하기 위해서는 `eureka.client.refresh.enable=false` 를 사용하면 됩니다.





# 서킷 브레이커 , 히스트릭스



## 서킷브레이커 히스트릭스 disable 하기

`spring.cloud.circuitbreaker.hystrix.enabled=false` 을 해줌으로써 auto-configura을 해제할 수 있습니다. 